function ___$insertStyle(e){var t;if(e&&"undefined"!=typeof window)return(t=document.createElement("style")).setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}Object.defineProperty(exports,"__esModule",{value:!0});var index$2=require("./index-acbf1f76.js"),React=require("react"),index=require("./index-ae7d786e.js"),index$3=require("./index-ebb40743.js"),_extends=require("./extends-613c4db7.js"),index$1=require("./index-5c4e281b.js"),utils=require("./utils-0dfde023.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var React__default=_interopDefaultLegacy(React),TTitle=function(e){var i,o,t=e.titleTemplate,s=e.visibleColumns,e=(i=[],o=0,t.forEach(function(e,t){var a,n=e.props,r=e.value,e=_extends._toConsumableArray(e.columns),l=0;s&&e.forEach(function(){s[o]&&(l++,a=!0),o++}),s&&!a||("object"===index$1._typeof(n)&&(n.title?n.title=n.title.toString():delete n.title),e=React__default.default.createElement("th",_extends._extends({key:t,"js-title-index":t,colSpan:l},n),React__default.default.createElement("span",null,r)),i.push(e))}),i);return React__default.default.createElement("tr",{className:"js-table__grouped-titles"},React__default.default.createElement("th",{className:"padding-table"}," "),e,React__default.default.createElement("th",{className:"padding-table"}," "))},ORDER_BY_DESC=(TTitle.displayName="TTitle",TTitle.defaultProps={visibleColumns:null},TTitle.propTypes={titleTemplate:index.propTypes.array.isRequired,visibleColumns:index.propTypes.array},"DESC"),ORDER_BY_ASC="ASC",THead=function(e){var o,t=e.template,s=e.getItems,d=e.filtersValue,a=e.filtersValue,c=a.sort_type,u=a.sort_by,a=(e.reducer,e.titleTemplate),e=e.visibleColumns,t=(o=[],t.forEach(function(e,t){var a=e.thead,n=a.value,r=a.sortKey,l=a.sortLtr,a=a.className,e=e.thead,i=n,e=("function"==typeof n&&(i=n()),e.props?index$2.lodash_clonedeep(e.props):{}),n=(e.title=e.title||n,e.className=index$3.classnames([a,r&&"cup"]),e.title?e.title=e.title.toString():delete e.title,React__default.default.createElement("th",_extends._extends({key:t},e,{onClick:function(){var e={sortKey:r};if(!(e=e.sortKey))return!1;var t=ORDER_BY_DESC;e===d.sort_by&&d.sort_type===ORDER_BY_DESC&&(t=ORDER_BY_ASC),s({sort_type:t,sort_by:e,offset:0})}}),l&&r&&c&&React__default.default.createElement("span",{className:index$3.classnames("sorting","ltr",index$1._defineProperty({},c.toLowerCase(),u===r))}),i,!l&&r&&c&&React__default.default.createElement("span",{className:index$3.classnames("sorting","fal",index$1._defineProperty({},c.toLowerCase(),u===r))})));o.push(n)}),o);return React__default.default.createElement("thead",null,!!a.length&&React__default.default.createElement(TTitle,{titleTemplate:a,visibleColumns:e}),React__default.default.createElement("tr",null,React__default.default.createElement("th",{className:"dr-padding"}," "),t,React__default.default.createElement("th",{className:"dr-padding"}," ")))},TBodyPart=(THead.displayName="THead",THead.propTypes={template:index.propTypes.array.isRequired,getItems:index.propTypes.func.isRequired,reducer:index.propTypes.string.isRequired,filtersValue:index.propTypes.object.isRequired,titleTemplate:index.propTypes.array.isRequired,visibleColumns:index.propTypes.array},THead.defaultProps={isHidden:!1,softSort:!1,visibleColumns:null},function(e){var t=e.template,a=e.items;return function(){for(var i=[],e=0;e<a.length;e+=1)!function(r){var l=a[r];t.forEach(function(e,t){var a,e=e.tbody;if(i[r]||(i[r]=[],l.id&&(i[r].id=l.id)),"function"==typeof e.value)try{a=e.value(l)}catch(e){a="n/a"}else"string"==typeof e.value?a=e.value:!e.value&&e.key&&(a=l[e.key]);var n=e.props?index$2.lodash_clonedeep(e.props):{};e.className&&(n.className="function"==typeof e.className?e.className(l):e.className),Object.keys(n).forEach(function(e){"function"==typeof n[e]&&(n[e]=n[e](l))}),i[r][t]=React__default.default.createElement("td",n,a)})}(e);return i}().map(function(e,t){return React__default.default.createElement("tr",{key:t,"data-id":e.id||t},React__default.default.createElement("td",{className:"dr-padding"}," "),e.map(function(e,t){return React__default.default.createElement(React__default.default.Fragment,{key:t},e)}),React__default.default.createElement("td",{className:"dr-padding"}," "))})}),BlockedItems=(TBodyPart.propTypes={template:index.propTypes.array.isRequired,items:index.propTypes.array.isRequired},function(o){function e(){for(var e=o.tableRefs.parent.current,t=e.querySelectorAll(".blocked-item"),a=0;a<t.length;a++){var n,r=t[a],l=r.getAttribute("item-data-id"),i=!!document.querySelector("main.main"),l=e.querySelector('tbody tr[data-id="'.concat(l,'"]'));l.length||(n=e.scrollTop,i||(n=n+(Math.abs(utils.elemOffset(l).top)-utils.elemOffset(e).top)+1),i=l.offsetHeight-1,r.style.top="".concat(n,"px"),r.style.height="".concat(i,"px"),r.style.lineHeight="".concat(i,"px"))}}var t=o.blockedItems;return React.useEffect(function(){return utils.addEvent(window,"resize",e),function(){utils.removeEvent(window,"resize",e)}},[]),React.useEffect(function(){e()},[t]),t.map(function(e){return React__default.default.createElement("tr",{className:"blocked-item",key:e,"item-data-id":e},React__default.default.createElement("td",null,React__default.default.createElement("span",{className:"loading"})))})}),TBody=function(e){var t=e.items,a=e.template,n=e.forwardedRef,r=e.isLoading,l=e.messages,i=e.blockedItems,o=e.tableRefs,e=e.action,s=React.useMemo(function(){return{isNoData:!(t.length&&t[0].length||r),colsCount:a.length+2}},[a,t]),d=s.isNoData,s=s.colsCount;return React__default.default.createElement("tbody",{ref:n},t.map(function(e,t){return React__default.default.createElement(TBodyPart,{key:t,items:e,template:a})}),d&&React__default.default.createElement("tr",{className:"no-border"},React__default.default.createElement("td",{colSpan:s},React__default.default.createElement("span",{className:"no-data"},l.noDataContent))),r&&"next-page"===e&&React__default.default.createElement("tr",{className:"no-border"},React__default.default.createElement("td",{colSpan:s},React__default.default.createElement("span",{className:"loading"},React__default.default.createElement("span",null)))),React__default.default.createElement(BlockedItems,{blockedItems:i,tableRefs:o}))},TFoot=(TBody.displayName="TBody",TBody.defaultProps={action:"",isLoading:!1,blockedItems:[]},TBody.propTypes={template:index.propTypes.array.isRequired,forwardedRef:index.propTypes.object.isRequired,tableRefs:index.propTypes.object.isRequired,isLoading:index.propTypes.bool,action:index.propTypes.string,items:index.propTypes.array.isRequired,blockedItems:index.propTypes.array,messages:index.propTypes.object.isRequired},function(e){var r,l,i,o,s,t=e.forwardedRef,a=e.tfootItem,n=e.tfootOtherTemplate,d=a?a.item:null,a=a?a.isLoading:null,e=(l=e.template,i=e.tfootItem,o=[],s=i?i.item:null,!!i&&(r=0,l.forEach(function(e,t){var a,e=e.tfoot;if(!(r>=l.length))if(e){if("function"==typeof e.value)try{a=e.value(s)}catch(e){a="n/a"}else"string"==typeof e.value?a=e.value:!e.value&&e.key&&(a=s[e.key]);var n=e.props?index$2.lodash_clonedeep(e.props):{};e.className&&(n.className="function"==typeof e.className?e.className(s):e.className),e.isWholeLine?(r+=l.length,n.colSpan=l.length):r++,Object.keys(n).forEach(function(e){"function"==typeof n[e]&&(n[e]=n[e](i))}),o[t]=React__default.default.createElement("td",_extends._extends({key:t},n),a)}else o[t]=React__default.default.createElement("td",{key:t})}),o));return React__default.default.createElement("tfoot",{ref:t},n,React__default.default.createElement("tr",null,React__default.default.createElement("th",{className:"dr-padding"}," "),e,React__default.default.createElement("td",{className:"dr-padding"}," ")),d&&a&&!Object.keys(d).length&&React__default.default.createElement("tr",{className:"tfoot-loading no-border"},React__default.default.createElement("td",null,React__default.default.createElement("span",{className:"loading"},React__default.default.createElement("span",null)))))}),TableComponent=(TFoot.displayName="TFoot",TFoot.defaultProps={tfootItem:null},TFoot.propTypes={template:index.propTypes.array.isRequired,forwardedRef:index.propTypes.object.isRequired,tfootItem:index.propTypes.object},function(i){function n(e,t){var a=i.listGet,n=i.changeFiltersValue,r=(l=d[o].filtersValue).offset,l=l.limit;n(e||{offset:r+l},o),a(o,t||s)}function e(){if(E||b||I)return!1;var e=r.parent.current,t=(a=r.tbody.current).offsetHeight-e.offsetHeight,a=Math.abs(utils.elemOffset(a).top-utils.elemOffset(e).top);t-document.getElementsByTagName("html")[0].offsetHeight/2<a&&n()}var r={parent:React.useRef(null),tbody:React__default.default.createRef(),tfoot:React__default.default.createRef()},t=i.template,o=i.reducer,a=i.id,s=i.url,d=i.data,l=i.onInit,c=i.refreshTableOnPush,u=i.saveTableInitFilters,_=i.initFiltersValue,T=i.tfootItem,p=i.visibleColumnsMiddleware,f=i.messages,E=i.disableLazyLoad,m=i.titleTemplate,S=i.dataForRender,y=d[o],I=y.isLoading,b=y.isLastPage,R=y.items,M=y.visibleColumns,A=y.blockedItems,L=y.filtersValue,y=y.action,x=p(M),p=React.useState(!0),M=index$2._slicedToArray(p,2),h=M[0],g=M[1],p=(React.useEffect(function(){var e=index$3.dist(n,500),e=(l({getItems:n,debounceGetItems:e}),i.listGet),t=i.changeFiltersValue,a=i.history.action;_&&u(index$2.lodash_clonedeep(_),o),!_||Object.keys(d[o].filtersValue).length&&(!c||"PUSH"!==a&&"POP"!==a)||(t(_,o,h),g(!1)),(c&&("PUSH"===a||"POP"===a)||!d[o].items.length&&null===d[o].isLastPage)&&s&&e(o,s)},[]),React.useMemo(function(){return x?t.filter(function(e,t){return x[t]}):t},[x,S]));return React__default.default.createElement("div",{ref:r.parent,className:"dr-table",id:a||o,onWheel:e,onTouchMove:e},I&&"next-page"!==y&&React__default.default.createElement("div",{className:"dr-table__loading"},React__default.default.createElement("span",null)),React__default.default.createElement("table",null,React__default.default.createElement(THead,{template:p,titleTemplate:m,visibleColumns:x,getItems:n,reducer:o,filtersValue:L}),React__default.default.createElement(TBody,{template:p,items:R,tableRefs:r,forwardedRef:r.tbody,messages:f,isLoading:I,blockedItems:A}),React__default.default.createElement(TFoot,{tfootItem:T,template:p,forwardedRef:r.tfoot})))});function ownKeys$2(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$2(Object(a),!0).forEach(function(e){index$1._defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys$2(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}TableComponent.displayName="TableComponent",TableComponent.defaultProps={id:null,titleTemplate:[],reducer:"",onInit:function(){},tfootItem:null,initFiltersValue:null,visibleColumnsMiddleware:function(e){return e},refreshTableOnPush:!1,disableLazyLoad:!1,dataForRender:null,messages:{noDataContent:"No content"}},TableComponent.propTypes={url:index.propTypes.string,id:index.propTypes.string,dataForRender:index.propTypes.object,template:index.propTypes.array.isRequired,titleTemplate:index.propTypes.array,reducer:index.propTypes.string,onInit:index.propTypes.func,visibleColumnsMiddleware:index.propTypes.func,data:index.propTypes.object.isRequired,tfootItem:index.propTypes.object,initFiltersValue:index.propTypes.object,refreshTableOnPush:index.propTypes.bool,saveTableInitFilters:index.propTypes.func.isRequired,disableLazyLoad:index.propTypes.bool,listGet:index.propTypes.func.isRequired,changeFiltersValue:index.propTypes.func.isRequired,messages:index.propTypes.object};var REQUEST_REGEXP=/^MT_LIST@(.+)_REQUEST$/,RSAA="@@redux-api-middleware/RSAA",mainTableBeforeMiddleware=function(o){return function(i){return function(e){var t,a,n,r,l;return e[RSAA]?(t=_objectSpread$2({},e),n="object"===index$1._typeof(e[RSAA].types[0])?e[RSAA].types[0].type:e[RSAA].types[0],REQUEST_REGEXP.test(n)?(n=n.match(REQUEST_REGEXP)[1],l=(n=o.getState().mainTable[n]).isLoading,n=n.filtersValue,!l&&(n&&Object.keys(n).length&&(a=index$2.lodash_clonedeep(n),Object.entries(a).forEach(function(e){var e=index$2._slicedToArray(e,2),t=e[0],e=e[1],e=Array.isArray(e)?e:[e];a[t]=utils.lodash_compact(e)}),n=(l=t[RSAA].types[0].meta).disableFilters,r=l.requiredFilters,n&&r&&r.length&&Object.keys(a).forEach(function(e){r.indexOf(e)<0&&delete a[e]}),(l=utils.queryString.stringify(a)).length)&&(t[RSAA].endpoint="".concat(t[RSAA].endpoint,"?").concat(l)),i(t))):i(t)):i(e)}}};function ownKeys$1(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$1(Object(a),!0).forEach(function(e){index$1._defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys$1(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var MT_SAVE_TABLE_SCROLL="MT_SAVE_TABLE_SCROLL",saveTableScrollAction=function(e,t){return{type:MT_SAVE_TABLE_SCROLL,scroll:e,reducer:t}},MT_CHANGE_FILTERS_VALUE="MT_CHANGE_FILTERS_VALUE",changeFiltersValueAction=function(e,t,a){return{type:MT_CHANGE_FILTERS_VALUE,data:e,reducer:t,firstLoad:a}},MT_UPDATE_VISIBLE_COLUMNS="MT_UPDATE_VISIBLE_COLUMNS",updateVisibleColumnsAction=function(e,t){return{type:MT_UPDATE_VISIBLE_COLUMNS,data:e,reducer:t}},MT_GET_SUBLINE_DATA_REQUEST="MT_GET_SUBLINE_DATA_REQUEST",MT_GET_SUBLINE_DATA_SUCCESS="MT_GET_SUBLINE_DATA_SUCCESS",MT_GET_SUBLINE_DATA_FAILURE="MT_GET_SUBLINE_DATA_FAILURE",MTgetSubLineData=function(e){var t=e.id,a=e.subLineKey,a=void 0===a?"id":a,n=e.query,r=e.url,e=e.reducer;return utils.crud({endpoint:r,query:_objectSpread$1(_objectSpread$1({},void 0===n?{}:n),{},index$1._defineProperty({},a,t)),crudTypes:{request:MT_GET_SUBLINE_DATA_REQUEST,success:MT_GET_SUBLINE_DATA_SUCCESS,failure:MT_GET_SUBLINE_DATA_FAILURE},meta:{reducer:e,subLineKey:a,id:t}})},MT_REMOVE_SUBLINE_DATA="MT_REMOVE_SUBLINE_DATA",MTremoveSubLineData=function(e){var t=e.id,a=e.reducer;return function(e){return e({type:MT_REMOVE_SUBLINE_DATA,id:t,reducer:a})}},MT_LIST_UPDATE_ITEMS="MT_LIST_UPDATE_ITEMS",MTupdateItemsAction=function(e,t){return{type:MT_LIST_UPDATE_ITEMS,items:e,reducer:t}},MT_LIST_AUTO_UPDATE_ITEM="MT_LIST_AUTO_UPDATE_ITEM",MTautoUpdateItemAction=function(e,t,a){return{type:MT_LIST_AUTO_UPDATE_ITEM,item:e,reducer:t,key:a}},MT_LIST_AUTO_UPDATE_ITEMS="MT_LIST_AUTO_UPDATE_ITEMS",MTautoUpdateItems=function(e,t){return{type:MT_LIST_AUTO_UPDATE_ITEMS,items:e,reducer:t}},MT_LIST_REMOVE_ITEM="MT_LIST_REMOVE_ITEM",MTlistRemoveItemAction=function(e,t){return{type:MT_LIST_REMOVE_ITEM,id:e,reducer:t,key:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"id"}},MT_SET_ITEMS="MT_SET_ITEMS",MTsetItems=function(e,t){return{type:MT_SET_ITEMS,items:e,reducer:t}},filtersDataGetAction=function(e,t,a,n){return utils.crud({endpoint:t,query:a,meta:{modifyResponse:n},crudTypes:{request:"MT_FILTERS_DATA@".concat(e,"_REQUEST"),success:"MT_FILTERS_DATA@".concat(e,"_SUCCESS"),failure:"MT_FILTERS_DATA@".concat(e,"_FAILURE")}})},MT_DISABLE_ITEM_SWITCHER="MT_DISABLE_ITEM_SWITCH",disableItemSwitcherAction=function(e,t,a){return{type:MT_DISABLE_ITEM_SWITCHER,data:e,reducer:t,byIndex:a}},MT_SAVE_TABLE_INIT_FILTERS="MT_SAVE_TABLE_INIT_FILTERS",saveTableInitFilters=function(e,t){return{type:MT_SAVE_TABLE_INIT_FILTERS,data:e,reducer:t}},listGetAction=function(e,t,a,n,r){return utils.crud({endpoint:t,crudTypes:{request:"MT_LIST@".concat(e,"_REQUEST"),success:"MT_LIST@".concat(e,"_SUCCESS"),failure:"MT_LIST@".concat(e,"_FAILURE")},meta:{reloadItemsOnRequest:a,mainTableRequest:!0,disableFilters:n,requiredFilters:r}})},MTsaveTableScroll=function(t,a){return function(e){return e(saveTableScrollAction(t,a))}},MTchangeFiltersValue=function(t,a,n){return function(e){return e(changeFiltersValueAction(t,a,n))}},MTfiltersDataGet=function(t,a,n,r){return function(e){return e(filtersDataGetAction(t,a,n,r))}},MTupdateItems=function(t,a){return function(e){return e(MTupdateItemsAction(t,a))}},MTupdateVisibleColumns=function(t,a){return function(e){return e(updateVisibleColumnsAction(t,a))}},MTautoUpdateItem=function(t,a,n){return function(e){return e(MTautoUpdateItemAction(t,a,n))}},MTlistRemoveItem=function(t,a,n){return function(e){return e(MTlistRemoveItemAction(t,a,n))}},MTdisableItemSwitcher=function(t,a,n){return function(e){return e(disableItemSwitcherAction(t,a,n))}},MTsaveTableInitFilters=function(t,a){return function(e){return e(saveTableInitFilters(t,a))}},MTlistGet=function(t,a,n,r,l){return function(e){return e(listGetAction(t,a,n,r,l))}};function ownKeys(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(e){index$1._defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var REQUEST_LIST_REGEXP=/^MT_LIST@(.+)_REQUEST$/,SUCCESS_LIST_REGEXP=/^MT_LIST@(.+)_SUCCESS$/,FAILURE_LIST_REGEXP=/^MT_LIST@(.+)_FAILURE$/,SUCCESS_FILTERS_DATA_REGEXP=/^MT_FILTERS_DATA@(.+)_SUCCESS$/,tableExample={items:[],isLastPage:null,isLoading:!1,scroll:{},subLineData:{},filtersValue:{},blockedItems:[],action:""},initialState={filtersData:{}},mainTableReducer=function(){var t,a,n,r,l,i,o,s,d,c,e,u,_,T,p,f,E,m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:initialState,S=1<arguments.length?arguments[1]:void 0;return S.type===MT_REMOVE_SUBLINE_DATA&&(p=S.id,f=S.reducer,(t=index$2.lodash_clonedeep(m))[f].subLineData[p])&&delete t[f].subLineData[p],S.type===MT_GET_SUBLINE_DATA_REQUEST&&(p=(f=S.meta).id,E=f.subLineKey,f=f.reducer,(t=index$2.lodash_clonedeep(m))[f].subLineData[p]={isLoading:!0,items:[],key:E}),S.type===MT_GET_SUBLINE_DATA_FAILURE&&(p=(f=S.meta).id,E=f.reducer,(t=index$2.lodash_clonedeep(m))[E].subLineData[p])&&delete t[E].subLineData[p],S.type===MT_GET_SUBLINE_DATA_SUCCESS&&(E=(f=S.meta).id,p=f.reducer,u=(f=S.payload).status,f=f.payload,_=!!(t=index$2.lodash_clonedeep(m))[p].subLineData[E],"OK"===u&&f.items.length&&_?(t[p].subLineData[E].isLoading=!1,t[p].subLineData[E].items=_extends._toConsumableArray(f.items)):_&&delete t[p].subLineData[E]),S.type===MT_LIST_REMOVE_ITEM&&(a=S.id,u=S.reducer,f=S.key,n=void 0===f?"id":f,_=(_=(_=index$2.lodash_clonedeep(m[u].items)).map(function(e){var e=index$2.lodash_clonedeep(e),t=e.findIndex(function(e){return e[n]===a});return 0<=t&&delete e[t],e.filter(function(e){return Boolean(e)})})).filter(function(e){return Array.isArray(e)&&e.length}).filter(function(e){return Boolean(e)}),(t=index$2.lodash_clonedeep(m))[u].items=_),S.type===MT_LIST_AUTO_UPDATE_ITEM&&(r=S.item,p=S.reducer,E=S.key,(i=r[l=E||"id"])||E||(i=r[l="uuid"]),f=(f=index$2.lodash_clonedeep(m[p].items)).map(function(e){var e=index$2.lodash_clonedeep(e),t=e.findIndex(function(e){return e[l]===i});return 0<=t&&(e[t]=r),e}),(t=index$2.lodash_clonedeep(m))[p].items=f),S.type===MT_SAVE_TABLE_SCROLL&&(u=S.reducer,_=S.scroll,E=index$2.lodash_clonedeep(m),t=_objectSpread(_objectSpread({},E),{},index$1._defineProperty({},u,_objectSpread(_objectSpread({},E[u]),{},{scroll:_})))),S.type===MT_CHANGE_FILTERS_VALUE&&(p=S.reducer,f=S.data,E=S.firstLoad,u=index$2.lodash_clonedeep(m),(o=_objectSpread({},u[p])).filtersValue=_objectSpread(E?{}:_objectSpread({},u[p].filtersValue),f),Object.entries(o.filtersValue).forEach(function(e){var e=index$2._slicedToArray(e,2),t=e[0],e=e[1];!1!==e&&void 0!==e||delete o.filtersValue[t]}),f.offset!==m[p].filtersValue.offset&&0!==f.offset&&(o.action="next-page"),t=_objectSpread(_objectSpread({},m),{},index$1._defineProperty({},S.reducer,o))),SUCCESS_FILTERS_DATA_REGEXP.test(S.type)&&(_=S.type.match(SUCCESS_FILTERS_DATA_REGEXP)[1],"OK"===S.payload.status)&&(E=S.payload.payload.items,s=S.meta.modifyResponse,(t=index$2.lodash_clonedeep(m)).filtersData[_]=s?E.map(function(e){return{label:e[s.label],value:e[s.value]}}):E||[]),S.type===MT_DISABLE_ITEM_SWITCHER&&(d=S.data,c=S.reducer,u=S.byIndex,t=index$2.lodash_clonedeep(m),u||Object.keys(d).forEach(function(e){d[e]?t[c].blockedItems.indexOf(e)<0&&t[c].blockedItems.push(e):0<=(e=t[c].blockedItems.indexOf(e))&&delete t[c].blockedItems[e]}),t[c].blockedItems=t[c].blockedItems.filter(function(e){return e})),S.type===MT_SET_ITEMS&&(p=S.items,f=S.reducer,(t=index$2.lodash_clonedeep(m))[f].items=[index$2.lodash_clonedeep(p)]),REQUEST_LIST_REGEXP.test(S.type)&&(_=S.type.match(REQUEST_LIST_REGEXP)[1],(t=index$2.lodash_clonedeep(m))[_].isLoading=!0),SUCCESS_LIST_REGEXP.test(S.type)&&(E=S.type.match(SUCCESS_LIST_REGEXP)[1],(t=index$2.lodash_clonedeep(m))[E].isLoading=!1,"OK"===S.payload.status&&(p=(f=(u=S.payload).payload).items,_=f.total,f=f.item,u=u._meta,T=S.meta.reloadItemsOnRequest,e=(u=void 0===u?{is_last_page:!1,total:0}:u).is_last_page,u=u.total,t[E].isLastPage=e,t[E].total=u,t[E].itemsTotal=_,t[E].action="",0===t[E].filtersValue.offset&&(t[E].items=[]),p&&p.length||f)?t[E].items=T?[p||[f]]:[].concat(_extends._toConsumableArray(t[E].items),[p||[f]]):t[E].isLastPage=!0),FAILURE_LIST_REGEXP.test(S.type)&&(e=S.type.match(FAILURE_LIST_REGEXP)[1],(t=index$2.lodash_clonedeep(m))[e].isLoading=!1,t[e].isLastPage=!0,t[e].action=""),S.type===MT_LIST_UPDATE_ITEMS&&(u=S.items,_=S.reducer,(t=index$2.lodash_clonedeep(m))[_].items=u),S.type===MT_UPDATE_VISIBLE_COLUMNS&&(T=S.data,p=S.reducer,(t=index$2.lodash_clonedeep(m))[p].visibleColumns=T),S.type===MT_SAVE_TABLE_INIT_FILTERS&&(f=S.data,E=S.reducer,(t=index$2.lodash_clonedeep(m))[E].initFiltersValue=index$2.lodash_clonedeep(f)),t||m},mainTableReducer$1=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){initialState[e]=index$2.lodash_clonedeep(tableExample)}),mainTableReducer};exports.MT_CHANGE_FILTERS_VALUE=MT_CHANGE_FILTERS_VALUE,exports.MT_DISABLE_ITEM_SWITCHER=MT_DISABLE_ITEM_SWITCHER,exports.MT_GET_SUBLINE_DATA_FAILURE=MT_GET_SUBLINE_DATA_FAILURE,exports.MT_GET_SUBLINE_DATA_REQUEST=MT_GET_SUBLINE_DATA_REQUEST,exports.MT_GET_SUBLINE_DATA_SUCCESS=MT_GET_SUBLINE_DATA_SUCCESS,exports.MT_LIST_AUTO_UPDATE_ITEM=MT_LIST_AUTO_UPDATE_ITEM,exports.MT_LIST_AUTO_UPDATE_ITEMS=MT_LIST_AUTO_UPDATE_ITEMS,exports.MT_LIST_REMOVE_ITEM=MT_LIST_REMOVE_ITEM,exports.MT_LIST_UPDATE_ITEMS=MT_LIST_UPDATE_ITEMS,exports.MT_REMOVE_SUBLINE_DATA=MT_REMOVE_SUBLINE_DATA,exports.MT_SAVE_TABLE_INIT_FILTERS=MT_SAVE_TABLE_INIT_FILTERS,exports.MT_SAVE_TABLE_SCROLL=MT_SAVE_TABLE_SCROLL,exports.MT_UPDATE_VISIBLE_COLUMNS=MT_UPDATE_VISIBLE_COLUMNS,exports.MTautoUpdateItem=MTautoUpdateItem,exports.MTautoUpdateItems=MTautoUpdateItems,exports.MTchangeFiltersValue=MTchangeFiltersValue,exports.MTdisableItemSwitcher=MTdisableItemSwitcher,exports.MTfiltersDataGet=MTfiltersDataGet,exports.MTgetSubLineData=MTgetSubLineData,exports.MTlistGet=MTlistGet,exports.MTlistRemoveItem=MTlistRemoveItem,exports.MTremoveSubLineData=MTremoveSubLineData,exports.MTsaveTableInitFilters=MTsaveTableInitFilters,exports.MTsaveTableScroll=MTsaveTableScroll,exports.MTsetItems=MTsetItems,exports.MTupdateItems=MTupdateItems,exports.MTupdateVisibleColumns=MTupdateVisibleColumns,exports.Table=TableComponent,exports.mainTableBeforeMiddleware=mainTableBeforeMiddleware,exports.mainTableReducer=mainTableReducer$1;
